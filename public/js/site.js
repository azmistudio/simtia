var scale=1.05;function submitLogin(a,b){return $("#login-app").waitMe({effect:"facebook"}),$("#login-form").ajaxSubmit({url:a,data:{_token:b},success:function(a){a.success?(Toast.fire({icon:"success",title:a.message}),setTimeout(()=>{window.location.href="/home"},1e3)):($("#login-app").waitMe("hide"),$.messager.alert("Peringatan",a.message,"error"))},error:function(a){$("#login-app").waitMe("hide"),422==a.status?$.messager.alert("Peringatan","Input yang bertanda bintang (*) wajib diisi.","error"):$.messager.alert("Peringatan","Terjadi gangguan pada Server, silahkan ulangi kembali.","error")}}),!1}function dateFormatter(a){var d=a.getFullYear(),b=a.getMonth()+1,c=a.getDate();return(c<10?"0"+c:c)+"/"+(b<10?"0"+b:b)+"/"+d}function dateParser(b){var a,c,d,e;return b?(b.includes("-")?(c=parseInt((a=b.split("-"))[2],10),d=parseInt(a[1],10),e=parseInt(a[0],10)):(c=parseInt((a=b.split("/"))[0],10),d=parseInt(a[1],10),e=parseInt(a[2],10)),isNaN(e)||isNaN(d)||isNaN(c))?new Date:new Date(e,d-1,c):new Date}function previewFile(c,d){var a=$("#"+c).filebox("files")[0];if(a){var b=new FileReader;b.onload=function(){$("#"+d).attr("src",b.result)},b.readAsDataURL(a)}}function clearPreview(a,b){$("#"+a).filebox("clear"),$("#"+b).attr("src","/img/img-preview.png")}function getSessionName(a){if(!a.includes("_"))return a.substr(4).toUpperCase();{let b=a.substr(4).split("_");return b[0].concat(b[1]).toUpperCase()}}function exportDocument(a,b,c,d){$.messager.progress({title:c,msg:"Mohon tunggu..."}),$.post(a,$.param({_token:d,data:JSON.stringify(b)},!0),function(a){$.messager.progress("close"),window.open("/file-download/"+a)}).fail(function(){$.messager.progress("close"),$.messager.alert("Peringatan","Terjadi gangguan pada Server, silahkan ulangi kembali.","error")})}function reportDocument(a,b,c,d){$.messager.progress({title:c,msg:"Mohon tunggu..."}),$.post(a,$.param({_token:d,data:JSON.stringify(b)},!0),function(a){$.messager.progress("close"),window.open("/storage/downloads/"+a)})}function reportPage(a,b,e){let f=b.split("-"),c=window.innerHeight,d=window.innerWidth;return $.ajax({url:a+"?w="+c+"."+d,beforeSend:function(){$("#loader-"+f[1]+"-"+f[2]).css("visibility","visible")},success:function(a){$("#title-"+f[1]+"-"+f[2]).text(e),$("#"+b).html(a),$("#loader-"+f[1]+"-"+f[2]).css("visibility","hidden"),$(".cgrd").combogrid(),$(".cbox").combobox(),$(".kbox").checkbox(),$(".tbox").textbox(),$(".nbox").numberbox(),$(".dbox").datebox(),$(".lbtn").linkbutton(),$(".pnel").panel(),$(".mbtn").menubutton(),$(".dwdw").window()},dataType:"html"}),!1}function calculateAge(b){var a=b.split("-"),c=new Date(a[0],a[1],a[2]),d=Date.now()-c.getTime(),e=new Date(d);return Math.abs(e.getUTCFullYear()-1970)}function showError(a){"error-db"==a.message?($("#error-w").window("open"),$("#error-code").text(a.data.code),$("#error-remark").textbox("setValue",a.data.remark),$("#error-message").textbox("setValue",a.data.message),$("#error-detail").textbox("setValue",a.data.detail)):$.messager.alert("Peringatan",a.message,"error")}function parsingDate(b){let a=b.split("-");return a[2]+"/"+a[1]+"/"+a[0]}function failResponse(a){422==a.status?$.messager.alert("Peringatan","Input yang bertanda bintang (*) wajib diisi.","error"):419==a.status?$.messager.alert("Peringatan","Sesi Anda telah berakhir, silahkan muat ulang (tekan tombol F5) untuk memulai lagi.","error"):$.messager.alert("Peringatan","Terjadi gangguan pada Server, silahkan ulangi kembali.","error")}function popupWindow(b,c,a,d){var e=(screen.width-a)/2,f=(screen.height-d)/4;window.open(b,c,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+a-100+", height=500, top="+f+", left="+e)}function currencyFormat(a){let b=Intl.NumberFormat("id-ID");return void 0!==a?"Rp"+b.format(a):"Rp0"}function zoomReport(a,b){"in"===b?(scale*=1.2,$("#"+a).attr("style","zoom: "+scale+"; transform: scale("+scale+"); transform-origin: 0px 0px; width: calc(100%/"+scale+"); height: calc(100%/"+scale+")")):"out"===b?(scale*=.9)>1.05&&$("#"+a).attr("style","zoom: "+scale+"; transform: scale("+scale+"); transform-origin: 0px 0px; width: calc(100%/"+scale+"); height: calc(100%/"+scale+")"):(scale=1.05,$("#"+a).attr("style","zoom: "+scale+"; transform: scale("+scale+"); transform-origin: 0px 0px; width: calc(100%/"+scale+"); height: calc(100%/"+scale+")"))}function getCurrentMonth(){let b=new Date;var a=b.getMonth()+1;return a<10?"0"+a:a}function pagingGrid(a){a[0].children[0].style.width="100%",a[0].children[1].style.width="100%",a[0].children[1].style.margin="0",a[0].children[1].style.textAlign="center"}function toFindDuplicate(a){let b=a.filter((b,c)=>a.indexOf(b)!==c);return[...new Set(b)]}$(document).ready(function(){$("body").removeClass("fade-out"),$("#main-layout").layout({width:window.innerWidth,height:window.innerHeight}),$("#sm").sidemenu("collapse"),$("#sm").sidemenu("resize",{width:60}),$("#tt").tabs({onBeforeClose:function(a,d){for(let[b,c]of Object.entries(sessionStorage))if(getSessionName(b)==a.replace(/\s+/g,"").toUpperCase()&&"active"==c)return alert("Form "+a+" sedang aktif, silahkan batalkan terlebih dahulu."),!1}})})